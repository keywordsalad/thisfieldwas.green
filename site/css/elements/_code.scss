code {
  color: $code-color;
  white-space: pre;
  word-wrap: normal;
  font-family: $code-font-family;

  .al {
    color: red;
  }

  /* Alert */
  .an {
    color: saddlebrown;
    font-weight: bold;
    font-style: italic;
  }

  /* Annotation */
  .at {
    color: darkblue;
  }

  /* Attribute */
  .bn {
    color: blue;
  }

  /* BaseN */
  .bu {
    color: #003a99;
  }

  /* Builtin */
  .cf {
    color: #006833;
    font-weight: bold;
  }

  /* ControlFlow */
  .ch {
    color: #007f33;
  }

  /* Char */
  .cn {
    color: blueviolet;
  }

  /* Constant */
  .co {
    color: darkslategray;
    font-style: italic;
  }

  /* Comment */
  .cv {
    color: darkgoldenrod;
    font-weight: bold;
    font-style: italic;
  }

  /* CommentVar */
  .do {
    color: darkgoldenrod;
    font-weight: bold;
    font-style: italic;
  }

  /* Documentation */
  .dt {
    color: blue;
    font-weight: bold;
  }

  /* DataType */
  .dv {
    color: darkred;
  }

  /* DecVal */
  .er {
    color: red;
    font-weight: bold;
  }

  /* Error */
  .ex {
    color: #006833
  }

  /* Extension */
  .fl {
    color: darkred;
  }

  /* Float */
  .fu {
    color: #006833;
  }

  /* Function */
  .im {
    color: #003a99;
  }

  /* Import */
  .in {
    color: #003a99;
    font-weight: bold;
    font-style: italic;
  }

  /* Information */
  .kw {
    color: #006833;
    font-weight: bold;
  }

  /* Keyword */
  .op {
    color: brown;
    font-weight: bold;
  }

  /* Operator */
  .ot {
    color: slateblue;
  }

  /* Other */
  .pp {
    color: saddlebrown;
    font-style: italic;
  }

  /* Preprocessor */
  .sc {
    color: #006833;
  }

  /* SpecialChar */
  .ss {
    color: #007f33;
  }

  /* SpecialString */
  .st {
    color: light#006833;
  }

  /* String */
  .va {
    color: cornflowerblue;
  }

  /* Variable */
  .vs {
    color: #007f33;
  }

  /* VerbatimString */
  .wa {
    color: orange;
    font-weight: bold;
    font-style: italic;
  }

  /* Warning */
}

pre.sourceCode {
  margin: 1em 0;
  @include shadow-scroll-x;

  blockquote & {
    font-style: normal;
  }

  code.sourceCode {
    color: $source-code-color;
    text-decoration: none;
    display: block;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    font-size: $code-font-size;
    white-space: pre;
    word-wrap: normal;
    overflow-x: scroll;

    >span {
      display: block;

      &:first-child {
        padding-top: 0.3em;
      }

      &:last-child {
        padding-bottom: 0.3em;
      }

      >a:first-child {
        display: inline-block;
      }
    }
  }
}

.numberLines code.sourceCode {
  counter-reset: line-number;

  >span {
    counter-increment: line-number;

    &:target {
      background-color: $code-color-highlight;
    }

    >a:first-child {
      width: 2em;
      padding: 0 0.5em 0 0;
      margin: 0 0.5em 0 0;
      border-right: $border-style $border-color-regular $border-width-thin;
      text-align: right;
      user-select: none;

      &::before {
        content: counter(line-number);
      }
    }

    &:first-child a:first-child {
      padding-top: 0.3em;
    }

    &:last-child a:first-child {
      padding-bottom: 0.3em;
    }
  }
}

a code:not(.sourceCode) {
  color: $code-color-hyperlink;
}

.nowrap {
  overflow-x: scroll;

  code>span {
    white-space: pre;
    word-wrap: normal;
  }
}
